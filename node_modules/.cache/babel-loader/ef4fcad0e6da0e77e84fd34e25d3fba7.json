{"ast":null,"code":"import { Effect } from \"../Materials/effect\";\nvar name = 'circleOfConfusionPixelShader';\nvar shader = \"\\nuniform sampler2D depthSampler;\\n\\nvarying vec2 vUV;\\n\\nuniform vec2 cameraMinMaxZ;\\n\\nuniform float focusDistance;\\nuniform float cocPrecalculation;\\nvoid main(void)\\n{\\nfloat depth=texture2D(depthSampler,vUV).r;\\nfloat pixelDistance=(cameraMinMaxZ.x+(cameraMinMaxZ.y-cameraMinMaxZ.x)*depth)*1000.0;\\nfloat coc=abs(cocPrecalculation* ((focusDistance-pixelDistance)/pixelDistance));\\ncoc=clamp(coc,0.0,1.0);\\ngl_FragColor=vec4(coc,depth,coc,1.0);\\n}\\n\";\nEffect.ShadersStore[name] = shader;\n/** @hidden */\n\nexport var circleOfConfusionPixelShader = {\n  name: name,\n  shader: shader\n};","map":{"version":3,"sources":["../../../sourceES6/core/Shaders/circleOfConfusion.fragment.ts"],"names":[],"mappings":"AAAA,SAAS,MAAT,QAAuB,qBAAvB;AAEA,IAAI,IAAI,GAAG,8BAAX;AACA,IAAI,MAAM,GAAG,ucAAb;AAmBA,MAAM,CAAC,YAAP,CAAoB,IAApB,IAA4B,MAA5B;AACA;;AACA,OAAO,IAAI,4BAA4B,GAAG;AAAE,EAAA,IAAI,EAAA,IAAN;AAAQ,EAAA,MAAM,EAAA;AAAd,CAAnC","sourcesContent":["import { Effect } from \"../Materials/effect\";\n\nlet name = 'circleOfConfusionPixelShader';\nlet shader = `\nuniform sampler2D depthSampler;\n\nvarying vec2 vUV;\n\nuniform vec2 cameraMinMaxZ;\n\nuniform float focusDistance;\nuniform float cocPrecalculation;\nvoid main(void)\n{\nfloat depth=texture2D(depthSampler,vUV).r;\nfloat pixelDistance=(cameraMinMaxZ.x+(cameraMinMaxZ.y-cameraMinMaxZ.x)*depth)*1000.0;\nfloat coc=abs(cocPrecalculation* ((focusDistance-pixelDistance)/pixelDistance));\ncoc=clamp(coc,0.0,1.0);\ngl_FragColor=vec4(coc,depth,coc,1.0);\n}\n`;\n\nEffect.ShadersStore[name] = shader;\n/** @hidden */\nexport var circleOfConfusionPixelShader = { name, shader };\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}