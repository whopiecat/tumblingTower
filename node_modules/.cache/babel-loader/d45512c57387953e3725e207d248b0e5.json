{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { Observable } from \"../Misc/observable\";\nimport { Gamepad } from \"../Gamepads/gamepad\";\n/**\r\n * Defines supported buttons for XBox360 compatible gamepads\r\n */\n\nexport var Xbox360Button;\n\n(function (Xbox360Button) {\n  /** A */\n  Xbox360Button[Xbox360Button[\"A\"] = 0] = \"A\";\n  /** B */\n\n  Xbox360Button[Xbox360Button[\"B\"] = 1] = \"B\";\n  /** X */\n\n  Xbox360Button[Xbox360Button[\"X\"] = 2] = \"X\";\n  /** Y */\n\n  Xbox360Button[Xbox360Button[\"Y\"] = 3] = \"Y\";\n  /** Left button */\n\n  Xbox360Button[Xbox360Button[\"LB\"] = 4] = \"LB\";\n  /** Right button */\n\n  Xbox360Button[Xbox360Button[\"RB\"] = 5] = \"RB\";\n  /** Back */\n\n  Xbox360Button[Xbox360Button[\"Back\"] = 8] = \"Back\";\n  /** Start */\n\n  Xbox360Button[Xbox360Button[\"Start\"] = 9] = \"Start\";\n  /** Left stick */\n\n  Xbox360Button[Xbox360Button[\"LeftStick\"] = 10] = \"LeftStick\";\n  /** Right stick */\n\n  Xbox360Button[Xbox360Button[\"RightStick\"] = 11] = \"RightStick\";\n})(Xbox360Button || (Xbox360Button = {}));\n/** Defines values for XBox360 DPad  */\n\n\nexport var Xbox360Dpad;\n\n(function (Xbox360Dpad) {\n  /** Up */\n  Xbox360Dpad[Xbox360Dpad[\"Up\"] = 12] = \"Up\";\n  /** Down */\n\n  Xbox360Dpad[Xbox360Dpad[\"Down\"] = 13] = \"Down\";\n  /** Left */\n\n  Xbox360Dpad[Xbox360Dpad[\"Left\"] = 14] = \"Left\";\n  /** Right */\n\n  Xbox360Dpad[Xbox360Dpad[\"Right\"] = 15] = \"Right\";\n})(Xbox360Dpad || (Xbox360Dpad = {}));\n/**\r\n * Defines a XBox360 gamepad\r\n */\n\n\nvar Xbox360Pad =\n/** @class */\nfunction (_super) {\n  __extends(Xbox360Pad, _super);\n  /**\r\n   * Creates a new XBox360 gamepad object\r\n   * @param id defines the id of this gamepad\r\n   * @param index defines its index\r\n   * @param gamepad defines the internal HTML gamepad object\r\n   * @param xboxOne defines if it is a XBox One gamepad\r\n   */\n\n\n  function Xbox360Pad(id, index, gamepad, xboxOne) {\n    if (xboxOne === void 0) {\n      xboxOne = false;\n    }\n\n    var _this = _super.call(this, id, index, gamepad, 0, 1, 2, 3) || this;\n\n    _this._leftTrigger = 0;\n    _this._rightTrigger = 0;\n    /** Observable raised when a button is pressed */\n\n    _this.onButtonDownObservable = new Observable();\n    /** Observable raised when a button is released */\n\n    _this.onButtonUpObservable = new Observable();\n    /** Observable raised when a pad is pressed */\n\n    _this.onPadDownObservable = new Observable();\n    /** Observable raised when a pad is released */\n\n    _this.onPadUpObservable = new Observable();\n    _this._buttonA = 0;\n    _this._buttonB = 0;\n    _this._buttonX = 0;\n    _this._buttonY = 0;\n    _this._buttonBack = 0;\n    _this._buttonStart = 0;\n    _this._buttonLB = 0;\n    _this._buttonRB = 0;\n    _this._buttonLeftStick = 0;\n    _this._buttonRightStick = 0;\n    _this._dPadUp = 0;\n    _this._dPadDown = 0;\n    _this._dPadLeft = 0;\n    _this._dPadRight = 0;\n    _this._isXboxOnePad = false;\n    _this.type = Gamepad.XBOX;\n    _this._isXboxOnePad = xboxOne;\n    return _this;\n  }\n  /**\r\n   * Defines the callback to call when left trigger is pressed\r\n   * @param callback defines the callback to use\r\n   */\n\n\n  Xbox360Pad.prototype.onlefttriggerchanged = function (callback) {\n    this._onlefttriggerchanged = callback;\n  };\n  /**\r\n   * Defines the callback to call when right trigger is pressed\r\n   * @param callback defines the callback to use\r\n   */\n\n\n  Xbox360Pad.prototype.onrighttriggerchanged = function (callback) {\n    this._onrighttriggerchanged = callback;\n  };\n\n  Object.defineProperty(Xbox360Pad.prototype, \"leftTrigger\", {\n    /**\r\n     * Gets the left trigger value\r\n     */\n    get: function () {\n      return this._leftTrigger;\n    },\n\n    /**\r\n     * Sets the left trigger value\r\n     */\n    set: function (newValue) {\n      if (this._onlefttriggerchanged && this._leftTrigger !== newValue) {\n        this._onlefttriggerchanged(newValue);\n      }\n\n      this._leftTrigger = newValue;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"rightTrigger\", {\n    /**\r\n     * Gets the right trigger value\r\n     */\n    get: function () {\n      return this._rightTrigger;\n    },\n\n    /**\r\n     * Sets the right trigger value\r\n     */\n    set: function (newValue) {\n      if (this._onrighttriggerchanged && this._rightTrigger !== newValue) {\n        this._onrighttriggerchanged(newValue);\n      }\n\n      this._rightTrigger = newValue;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Defines the callback to call when a button is pressed\r\n   * @param callback defines the callback to use\r\n   */\n\n  Xbox360Pad.prototype.onbuttondown = function (callback) {\n    this._onbuttondown = callback;\n  };\n  /**\r\n   * Defines the callback to call when a button is released\r\n   * @param callback defines the callback to use\r\n   */\n\n\n  Xbox360Pad.prototype.onbuttonup = function (callback) {\n    this._onbuttonup = callback;\n  };\n  /**\r\n   * Defines the callback to call when a pad is pressed\r\n   * @param callback defines the callback to use\r\n   */\n\n\n  Xbox360Pad.prototype.ondpaddown = function (callback) {\n    this._ondpaddown = callback;\n  };\n  /**\r\n   * Defines the callback to call when a pad is released\r\n   * @param callback defines the callback to use\r\n   */\n\n\n  Xbox360Pad.prototype.ondpadup = function (callback) {\n    this._ondpadup = callback;\n  };\n\n  Xbox360Pad.prototype._setButtonValue = function (newValue, currentValue, buttonType) {\n    if (newValue !== currentValue) {\n      if (newValue === 1) {\n        if (this._onbuttondown) {\n          this._onbuttondown(buttonType);\n        }\n\n        this.onButtonDownObservable.notifyObservers(buttonType);\n      }\n\n      if (newValue === 0) {\n        if (this._onbuttonup) {\n          this._onbuttonup(buttonType);\n        }\n\n        this.onButtonUpObservable.notifyObservers(buttonType);\n      }\n    }\n\n    return newValue;\n  };\n\n  Xbox360Pad.prototype._setDPadValue = function (newValue, currentValue, buttonType) {\n    if (newValue !== currentValue) {\n      if (newValue === 1) {\n        if (this._ondpaddown) {\n          this._ondpaddown(buttonType);\n        }\n\n        this.onPadDownObservable.notifyObservers(buttonType);\n      }\n\n      if (newValue === 0) {\n        if (this._ondpadup) {\n          this._ondpadup(buttonType);\n        }\n\n        this.onPadUpObservable.notifyObservers(buttonType);\n      }\n    }\n\n    return newValue;\n  };\n\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonA\", {\n    /**\r\n     * Gets the value of the `A` button\r\n     */\n    get: function () {\n      return this._buttonA;\n    },\n\n    /**\r\n     * Sets the value of the `A` button\r\n     */\n    set: function (value) {\n      this._buttonA = this._setButtonValue(value, this._buttonA, Xbox360Button.A);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonB\", {\n    /**\r\n     * Gets the value of the `B` button\r\n     */\n    get: function () {\n      return this._buttonB;\n    },\n\n    /**\r\n     * Sets the value of the `B` button\r\n     */\n    set: function (value) {\n      this._buttonB = this._setButtonValue(value, this._buttonB, Xbox360Button.B);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonX\", {\n    /**\r\n     * Gets the value of the `X` button\r\n     */\n    get: function () {\n      return this._buttonX;\n    },\n\n    /**\r\n     * Sets the value of the `X` button\r\n     */\n    set: function (value) {\n      this._buttonX = this._setButtonValue(value, this._buttonX, Xbox360Button.X);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonY\", {\n    /**\r\n     * Gets the value of the `Y` button\r\n     */\n    get: function () {\n      return this._buttonY;\n    },\n\n    /**\r\n     * Sets the value of the `Y` button\r\n     */\n    set: function (value) {\n      this._buttonY = this._setButtonValue(value, this._buttonY, Xbox360Button.Y);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonStart\", {\n    /**\r\n     * Gets the value of the `Start` button\r\n     */\n    get: function () {\n      return this._buttonStart;\n    },\n\n    /**\r\n     * Sets the value of the `Start` button\r\n     */\n    set: function (value) {\n      this._buttonStart = this._setButtonValue(value, this._buttonStart, Xbox360Button.Start);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonBack\", {\n    /**\r\n     * Gets the value of the `Back` button\r\n     */\n    get: function () {\n      return this._buttonBack;\n    },\n\n    /**\r\n     * Sets the value of the `Back` button\r\n     */\n    set: function (value) {\n      this._buttonBack = this._setButtonValue(value, this._buttonBack, Xbox360Button.Back);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonLB\", {\n    /**\r\n     * Gets the value of the `Left` button\r\n     */\n    get: function () {\n      return this._buttonLB;\n    },\n\n    /**\r\n     * Sets the value of the `Left` button\r\n     */\n    set: function (value) {\n      this._buttonLB = this._setButtonValue(value, this._buttonLB, Xbox360Button.LB);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonRB\", {\n    /**\r\n     * Gets the value of the `Right` button\r\n     */\n    get: function () {\n      return this._buttonRB;\n    },\n\n    /**\r\n     * Sets the value of the `Right` button\r\n     */\n    set: function (value) {\n      this._buttonRB = this._setButtonValue(value, this._buttonRB, Xbox360Button.RB);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonLeftStick\", {\n    /**\r\n     * Gets the value of the Left joystick\r\n     */\n    get: function () {\n      return this._buttonLeftStick;\n    },\n\n    /**\r\n     * Sets the value of the Left joystick\r\n     */\n    set: function (value) {\n      this._buttonLeftStick = this._setButtonValue(value, this._buttonLeftStick, Xbox360Button.LeftStick);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"buttonRightStick\", {\n    /**\r\n     * Gets the value of the Right joystick\r\n     */\n    get: function () {\n      return this._buttonRightStick;\n    },\n\n    /**\r\n     * Sets the value of the Right joystick\r\n     */\n    set: function (value) {\n      this._buttonRightStick = this._setButtonValue(value, this._buttonRightStick, Xbox360Button.RightStick);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"dPadUp\", {\n    /**\r\n     * Gets the value of D-pad up\r\n     */\n    get: function () {\n      return this._dPadUp;\n    },\n\n    /**\r\n     * Sets the value of D-pad up\r\n     */\n    set: function (value) {\n      this._dPadUp = this._setDPadValue(value, this._dPadUp, Xbox360Dpad.Up);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"dPadDown\", {\n    /**\r\n     * Gets the value of D-pad down\r\n     */\n    get: function () {\n      return this._dPadDown;\n    },\n\n    /**\r\n     * Sets the value of D-pad down\r\n     */\n    set: function (value) {\n      this._dPadDown = this._setDPadValue(value, this._dPadDown, Xbox360Dpad.Down);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"dPadLeft\", {\n    /**\r\n     * Gets the value of D-pad left\r\n     */\n    get: function () {\n      return this._dPadLeft;\n    },\n\n    /**\r\n     * Sets the value of D-pad left\r\n     */\n    set: function (value) {\n      this._dPadLeft = this._setDPadValue(value, this._dPadLeft, Xbox360Dpad.Left);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Xbox360Pad.prototype, \"dPadRight\", {\n    /**\r\n     * Gets the value of D-pad right\r\n     */\n    get: function () {\n      return this._dPadRight;\n    },\n\n    /**\r\n     * Sets the value of D-pad right\r\n     */\n    set: function (value) {\n      this._dPadRight = this._setDPadValue(value, this._dPadRight, Xbox360Dpad.Right);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Force the gamepad to synchronize with device values\r\n   */\n\n  Xbox360Pad.prototype.update = function () {\n    _super.prototype.update.call(this);\n\n    if (this._isXboxOnePad) {\n      this.buttonA = this.browserGamepad.buttons[0].value;\n      this.buttonB = this.browserGamepad.buttons[1].value;\n      this.buttonX = this.browserGamepad.buttons[2].value;\n      this.buttonY = this.browserGamepad.buttons[3].value;\n      this.buttonLB = this.browserGamepad.buttons[4].value;\n      this.buttonRB = this.browserGamepad.buttons[5].value;\n      this.leftTrigger = this.browserGamepad.buttons[6].value;\n      this.rightTrigger = this.browserGamepad.buttons[7].value;\n      this.buttonBack = this.browserGamepad.buttons[8].value;\n      this.buttonStart = this.browserGamepad.buttons[9].value;\n      this.buttonLeftStick = this.browserGamepad.buttons[10].value;\n      this.buttonRightStick = this.browserGamepad.buttons[11].value;\n      this.dPadUp = this.browserGamepad.buttons[12].value;\n      this.dPadDown = this.browserGamepad.buttons[13].value;\n      this.dPadLeft = this.browserGamepad.buttons[14].value;\n      this.dPadRight = this.browserGamepad.buttons[15].value;\n    } else {\n      this.buttonA = this.browserGamepad.buttons[0].value;\n      this.buttonB = this.browserGamepad.buttons[1].value;\n      this.buttonX = this.browserGamepad.buttons[2].value;\n      this.buttonY = this.browserGamepad.buttons[3].value;\n      this.buttonLB = this.browserGamepad.buttons[4].value;\n      this.buttonRB = this.browserGamepad.buttons[5].value;\n      this.leftTrigger = this.browserGamepad.buttons[6].value;\n      this.rightTrigger = this.browserGamepad.buttons[7].value;\n      this.buttonBack = this.browserGamepad.buttons[8].value;\n      this.buttonStart = this.browserGamepad.buttons[9].value;\n      this.buttonLeftStick = this.browserGamepad.buttons[10].value;\n      this.buttonRightStick = this.browserGamepad.buttons[11].value;\n      this.dPadUp = this.browserGamepad.buttons[12].value;\n      this.dPadDown = this.browserGamepad.buttons[13].value;\n      this.dPadLeft = this.browserGamepad.buttons[14].value;\n      this.dPadRight = this.browserGamepad.buttons[15].value;\n    }\n  };\n  /**\r\n   * Disposes the gamepad\r\n   */\n\n\n  Xbox360Pad.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    this.onButtonDownObservable.clear();\n    this.onButtonUpObservable.clear();\n    this.onPadDownObservable.clear();\n    this.onPadUpObservable.clear();\n  };\n\n  return Xbox360Pad;\n}(Gamepad);\n\nexport { Xbox360Pad };","map":{"version":3,"sources":["../../../sourceES6/core/Gamepads/xboxGamepad.ts"],"names":[],"mappings":"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","sourcesContent":["import { Observable } from \"../Misc/observable\";\r\nimport { Gamepad } from \"../Gamepads/gamepad\";\r\n/**\r\n * Defines supported buttons for XBox360 compatible gamepads\r\n */\r\nexport enum Xbox360Button {\r\n    /** A */\r\n    A = 0,\r\n    /** B */\r\n    B = 1,\r\n    /** X */\r\n    X = 2,\r\n    /** Y */\r\n    Y = 3,\r\n    /** Left button */\r\n    LB = 4,\r\n    /** Right button */\r\n    RB = 5,\r\n    /** Back */\r\n    Back = 8,\r\n    /** Start */\r\n    Start = 9,\r\n    /** Left stick */\r\n    LeftStick = 10,\r\n    /** Right stick */\r\n    RightStick = 11\r\n}\r\n\r\n/** Defines values for XBox360 DPad  */\r\nexport enum Xbox360Dpad {\r\n    /** Up */\r\n    Up = 12,\r\n    /** Down */\r\n    Down = 13,\r\n    /** Left */\r\n    Left = 14,\r\n    /** Right */\r\n    Right = 15\r\n}\r\n\r\n/**\r\n * Defines a XBox360 gamepad\r\n */\r\nexport class Xbox360Pad extends Gamepad {\r\n    private _leftTrigger: number = 0;\r\n    private _rightTrigger: number = 0;\r\n\r\n    private _onlefttriggerchanged: (value: number) => void;\r\n    private _onrighttriggerchanged: (value: number) => void;\r\n\r\n    private _onbuttondown: (buttonPressed: Xbox360Button) => void;\r\n    private _onbuttonup: (buttonReleased: Xbox360Button) => void;\r\n    private _ondpaddown: (dPadPressed: Xbox360Dpad) => void;\r\n    private _ondpadup: (dPadReleased: Xbox360Dpad) => void;\r\n\r\n    /** Observable raised when a button is pressed */\r\n    public onButtonDownObservable = new Observable<Xbox360Button>();\r\n    /** Observable raised when a button is released */\r\n    public onButtonUpObservable = new Observable<Xbox360Button>();\r\n    /** Observable raised when a pad is pressed */\r\n    public onPadDownObservable = new Observable<Xbox360Dpad>();\r\n    /** Observable raised when a pad is released */\r\n    public onPadUpObservable = new Observable<Xbox360Dpad>();\r\n\r\n    private _buttonA: number = 0;\r\n    private _buttonB: number = 0;\r\n    private _buttonX: number = 0;\r\n    private _buttonY: number = 0;\r\n    private _buttonBack: number = 0;\r\n    private _buttonStart: number = 0;\r\n    private _buttonLB: number = 0;\r\n    private _buttonRB: number = 0;\r\n\r\n    private _buttonLeftStick: number = 0;\r\n    private _buttonRightStick: number = 0;\r\n    private _dPadUp: number = 0;\r\n    private _dPadDown: number = 0;\r\n    private _dPadLeft: number = 0;\r\n    private _dPadRight: number = 0;\r\n\r\n    private _isXboxOnePad: boolean = false;\r\n\r\n    /**\r\n     * Creates a new XBox360 gamepad object\r\n     * @param id defines the id of this gamepad\r\n     * @param index defines its index\r\n     * @param gamepad defines the internal HTML gamepad object\r\n     * @param xboxOne defines if it is a XBox One gamepad\r\n     */\r\n    constructor(id: string, index: number, gamepad: any, xboxOne: boolean = false) {\r\n        super(id, index, gamepad, 0, 1, 2, 3);\r\n        this.type = Gamepad.XBOX;\r\n        this._isXboxOnePad = xboxOne;\r\n    }\r\n\r\n    /**\r\n     * Defines the callback to call when left trigger is pressed\r\n     * @param callback defines the callback to use\r\n     */\r\n    public onlefttriggerchanged(callback: (value: number) => void) {\r\n        this._onlefttriggerchanged = callback;\r\n    }\r\n\r\n    /**\r\n     * Defines the callback to call when right trigger is pressed\r\n     * @param callback defines the callback to use\r\n     */\r\n    public onrighttriggerchanged(callback: (value: number) => void) {\r\n        this._onrighttriggerchanged = callback;\r\n    }\r\n\r\n    /**\r\n     * Gets the left trigger value\r\n     */\r\n    public get leftTrigger(): number {\r\n        return this._leftTrigger;\r\n    }\r\n    /**\r\n     * Sets the left trigger value\r\n     */\r\n    public set leftTrigger(newValue: number) {\r\n        if (this._onlefttriggerchanged && this._leftTrigger !== newValue) {\r\n            this._onlefttriggerchanged(newValue);\r\n        }\r\n        this._leftTrigger = newValue;\r\n    }\r\n\r\n    /**\r\n     * Gets the right trigger value\r\n     */\r\n    public get rightTrigger(): number {\r\n        return this._rightTrigger;\r\n    }\r\n    /**\r\n     * Sets the right trigger value\r\n     */\r\n    public set rightTrigger(newValue: number) {\r\n        if (this._onrighttriggerchanged && this._rightTrigger !== newValue) {\r\n            this._onrighttriggerchanged(newValue);\r\n        }\r\n        this._rightTrigger = newValue;\r\n    }\r\n\r\n    /**\r\n     * Defines the callback to call when a button is pressed\r\n     * @param callback defines the callback to use\r\n     */\r\n    public onbuttondown(callback: (buttonPressed: Xbox360Button) => void) {\r\n        this._onbuttondown = callback;\r\n    }\r\n\r\n    /**\r\n     * Defines the callback to call when a button is released\r\n     * @param callback defines the callback to use\r\n     */\r\n    public onbuttonup(callback: (buttonReleased: Xbox360Button) => void) {\r\n        this._onbuttonup = callback;\r\n    }\r\n\r\n    /**\r\n     * Defines the callback to call when a pad is pressed\r\n     * @param callback defines the callback to use\r\n     */\r\n    public ondpaddown(callback: (dPadPressed: Xbox360Dpad) => void) {\r\n        this._ondpaddown = callback;\r\n    }\r\n\r\n    /**\r\n     * Defines the callback to call when a pad is released\r\n     * @param callback defines the callback to use\r\n     */\r\n    public ondpadup(callback: (dPadReleased: Xbox360Dpad) => void) {\r\n        this._ondpadup = callback;\r\n    }\r\n\r\n    private _setButtonValue(newValue: number, currentValue: number, buttonType: Xbox360Button): number {\r\n        if (newValue !== currentValue) {\r\n            if (newValue === 1) {\r\n                if (this._onbuttondown) {\r\n                    this._onbuttondown(buttonType);\r\n                }\r\n\r\n                this.onButtonDownObservable.notifyObservers(buttonType);\r\n            }\r\n            if (newValue === 0) {\r\n\r\n                if (this._onbuttonup) {\r\n                    this._onbuttonup(buttonType);\r\n                }\r\n\r\n                this.onButtonUpObservable.notifyObservers(buttonType);\r\n            }\r\n        }\r\n        return newValue;\r\n    }\r\n\r\n    private _setDPadValue(newValue: number, currentValue: number, buttonType: Xbox360Dpad): number {\r\n        if (newValue !== currentValue) {\r\n            if (newValue === 1) {\r\n                if (this._ondpaddown) {\r\n                    this._ondpaddown(buttonType);\r\n                }\r\n\r\n                this.onPadDownObservable.notifyObservers(buttonType);\r\n            }\r\n            if (newValue === 0) {\r\n                if (this._ondpadup) {\r\n                    this._ondpadup(buttonType);\r\n                }\r\n\r\n                this.onPadUpObservable.notifyObservers(buttonType);\r\n            }\r\n        }\r\n        return newValue;\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `A` button\r\n     */\r\n    public get buttonA(): number {\r\n        return this._buttonA;\r\n    }\r\n    /**\r\n     * Sets the value of the `A` button\r\n     */\r\n    public set buttonA(value) {\r\n        this._buttonA = this._setButtonValue(value, this._buttonA, Xbox360Button.A);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `B` button\r\n     */\r\n    public get buttonB(): number {\r\n        return this._buttonB;\r\n    }\r\n    /**\r\n     * Sets the value of the `B` button\r\n     */\r\n    public set buttonB(value) {\r\n        this._buttonB = this._setButtonValue(value, this._buttonB, Xbox360Button.B);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `X` button\r\n     */\r\n    public get buttonX(): number {\r\n        return this._buttonX;\r\n    }\r\n    /**\r\n     * Sets the value of the `X` button\r\n     */\r\n    public set buttonX(value) {\r\n        this._buttonX = this._setButtonValue(value, this._buttonX, Xbox360Button.X);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `Y` button\r\n     */\r\n    public get buttonY(): number {\r\n        return this._buttonY;\r\n    }\r\n    /**\r\n     * Sets the value of the `Y` button\r\n     */\r\n    public set buttonY(value) {\r\n        this._buttonY = this._setButtonValue(value, this._buttonY, Xbox360Button.Y);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `Start` button\r\n     */\r\n    public get buttonStart(): number {\r\n        return this._buttonStart;\r\n    }\r\n    /**\r\n     * Sets the value of the `Start` button\r\n     */\r\n    public set buttonStart(value) {\r\n        this._buttonStart = this._setButtonValue(value, this._buttonStart, Xbox360Button.Start);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `Back` button\r\n     */\r\n    public get buttonBack(): number {\r\n        return this._buttonBack;\r\n    }\r\n    /**\r\n     * Sets the value of the `Back` button\r\n     */\r\n    public set buttonBack(value) {\r\n        this._buttonBack = this._setButtonValue(value, this._buttonBack, Xbox360Button.Back);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `Left` button\r\n     */\r\n    public get buttonLB(): number {\r\n        return this._buttonLB;\r\n    }\r\n    /**\r\n     * Sets the value of the `Left` button\r\n     */\r\n    public set buttonLB(value) {\r\n        this._buttonLB = this._setButtonValue(value, this._buttonLB, Xbox360Button.LB);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the `Right` button\r\n     */\r\n    public get buttonRB(): number {\r\n        return this._buttonRB;\r\n    }\r\n    /**\r\n     * Sets the value of the `Right` button\r\n     */\r\n    public set buttonRB(value) {\r\n        this._buttonRB = this._setButtonValue(value, this._buttonRB, Xbox360Button.RB);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the Left joystick\r\n     */\r\n    public get buttonLeftStick(): number {\r\n        return this._buttonLeftStick;\r\n    }\r\n    /**\r\n     * Sets the value of the Left joystick\r\n     */\r\n    public set buttonLeftStick(value) {\r\n        this._buttonLeftStick = this._setButtonValue(value, this._buttonLeftStick, Xbox360Button.LeftStick);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the Right joystick\r\n     */\r\n    public get buttonRightStick(): number {\r\n        return this._buttonRightStick;\r\n    }\r\n    /**\r\n     * Sets the value of the Right joystick\r\n     */\r\n    public set buttonRightStick(value) {\r\n        this._buttonRightStick = this._setButtonValue(value, this._buttonRightStick, Xbox360Button.RightStick);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of D-pad up\r\n     */\r\n    public get dPadUp(): number {\r\n        return this._dPadUp;\r\n    }\r\n    /**\r\n     * Sets the value of D-pad up\r\n     */\r\n    public set dPadUp(value) {\r\n        this._dPadUp = this._setDPadValue(value, this._dPadUp, Xbox360Dpad.Up);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of D-pad down\r\n     */\r\n    public get dPadDown(): number {\r\n        return this._dPadDown;\r\n    }\r\n    /**\r\n     * Sets the value of D-pad down\r\n     */\r\n    public set dPadDown(value) {\r\n        this._dPadDown = this._setDPadValue(value, this._dPadDown, Xbox360Dpad.Down);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of D-pad left\r\n     */\r\n    public get dPadLeft(): number {\r\n        return this._dPadLeft;\r\n    }\r\n    /**\r\n     * Sets the value of D-pad left\r\n     */\r\n    public set dPadLeft(value) {\r\n        this._dPadLeft = this._setDPadValue(value, this._dPadLeft, Xbox360Dpad.Left);\r\n    }\r\n\r\n    /**\r\n     * Gets the value of D-pad right\r\n     */\r\n    public get dPadRight(): number {\r\n        return this._dPadRight;\r\n    }\r\n    /**\r\n     * Sets the value of D-pad right\r\n     */\r\n    public set dPadRight(value) {\r\n        this._dPadRight = this._setDPadValue(value, this._dPadRight, Xbox360Dpad.Right);\r\n    }\r\n\r\n    /**\r\n     * Force the gamepad to synchronize with device values\r\n     */\r\n    public update() {\r\n        super.update();\r\n        if (this._isXboxOnePad) {\r\n            this.buttonA = this.browserGamepad.buttons[0].value;\r\n            this.buttonB = this.browserGamepad.buttons[1].value;\r\n            this.buttonX = this.browserGamepad.buttons[2].value;\r\n            this.buttonY = this.browserGamepad.buttons[3].value;\r\n            this.buttonLB = this.browserGamepad.buttons[4].value;\r\n            this.buttonRB = this.browserGamepad.buttons[5].value;\r\n            this.leftTrigger = this.browserGamepad.buttons[6].value;\r\n            this.rightTrigger = this.browserGamepad.buttons[7].value;\r\n            this.buttonBack = this.browserGamepad.buttons[8].value;\r\n            this.buttonStart = this.browserGamepad.buttons[9].value;\r\n            this.buttonLeftStick = this.browserGamepad.buttons[10].value;\r\n            this.buttonRightStick = this.browserGamepad.buttons[11].value;\r\n            this.dPadUp = this.browserGamepad.buttons[12].value;\r\n            this.dPadDown = this.browserGamepad.buttons[13].value;\r\n            this.dPadLeft = this.browserGamepad.buttons[14].value;\r\n            this.dPadRight = this.browserGamepad.buttons[15].value;\r\n        } else {\r\n            this.buttonA = this.browserGamepad.buttons[0].value;\r\n            this.buttonB = this.browserGamepad.buttons[1].value;\r\n            this.buttonX = this.browserGamepad.buttons[2].value;\r\n            this.buttonY = this.browserGamepad.buttons[3].value;\r\n            this.buttonLB = this.browserGamepad.buttons[4].value;\r\n            this.buttonRB = this.browserGamepad.buttons[5].value;\r\n            this.leftTrigger = this.browserGamepad.buttons[6].value;\r\n            this.rightTrigger = this.browserGamepad.buttons[7].value;\r\n            this.buttonBack = this.browserGamepad.buttons[8].value;\r\n            this.buttonStart = this.browserGamepad.buttons[9].value;\r\n            this.buttonLeftStick = this.browserGamepad.buttons[10].value;\r\n            this.buttonRightStick = this.browserGamepad.buttons[11].value;\r\n            this.dPadUp = this.browserGamepad.buttons[12].value;\r\n            this.dPadDown = this.browserGamepad.buttons[13].value;\r\n            this.dPadLeft = this.browserGamepad.buttons[14].value;\r\n            this.dPadRight = this.browserGamepad.buttons[15].value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Disposes the gamepad\r\n     */\r\n    public dispose() {\r\n        super.dispose();\r\n        this.onButtonDownObservable.clear();\r\n        this.onButtonUpObservable.clear();\r\n        this.onPadDownObservable.clear();\r\n        this.onPadUpObservable.clear();\r\n    }\r\n}\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}